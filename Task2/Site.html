<!DOCTYPE html>
<html>
    <head>
        <title>HTML и формулы</title>
        <link rel="stylesheet" href="./Styles.css">.
        <style>

        </style>
        <body>
            <div class="center_align">
            <div class="main_brd">
            <h1>Зачем мне все это нужно?</h1>
            <p>
                Я учусь на GeekBrains для того, чтобы найти новые решения
                тех задач, которые решаю каждый день работая инженером-строителем.
            </p>
            <p>
                Сейчас я специализируюсь в расчетах, поэтому результаты моей работы,
                по большей части, текстовые документы с таблицами, изображениями и 
                математическими формулами. Возможности работы с формулами в разных
                форматах файлов и программах совершенно разные, поэтому меня
                заинтересовал вопрос возможностей отображения формул в HTML документах.
            </p>
            <p>
                Кроме того, я много работаю с нормативными документами, которые состоят из тех
                же элементов, при этом разные сервисы, предоставляющие доступ к нормативным 
                документам, используют разные подходы к решению задачи отображения формул.
            </p>

            <h1>Существующие решения</h1>
            <p>
                Нормы в существующих сервисах представлены в одном из следующих форматов:
            </p>
            <ul>
                <li>скан-копия в формате PDF
                    <ul>
                        <li>
                            используется в том числе на
                            <a href="https://www.minstroyrf.gov.ru/docs/14474/">сайте</a> Минстроя РФ с
                            <a href="https://www.minstroyrf.gov.ru/upload/iblock/6c2/sp-16.pdf">
                                <b>вручную пронумерованными страницами</b></a>;
                        </li>
                        <li>неудобно выделять и копировать содержимое</li>
                        <li>не всегда удобная навигация</li>
                        <li>не адаптируется к размеру экрана</li>
                        <li>формат нередактируемый</li>
                        <li>формулы в формате PDF, как правило, отрисованы заранее</li>
                    </ul>
                </li>
                <li>документ в HTML-формате с формулами, предварительно отрисованными и
                    вставленными в виде изображения
                    <ul>
                        <li>
                            используется на
                            <a href="https://docs.cntd.ru/document/456069588">сайте, где за
                                полный доступ к документу нужна подписка
                        </li>
                        <li>
                            </a>используется и на <a href="https://meganorm.ru/Data2/1/4293745/4293745484.htm">
                                бесплатном сайте попроще</a>;
                        </li>
                        <li>адаптируется под разрешение экрана</li>
                        <li>формулы нужно заранее рендерить</li>
                        <li>невозможно рассмотреть форулы поближе, т.к. они имеют фиксированное разрешение</li>
                    </ul>
                </li>
            </ul>

            <h2>Проблемы предварительно отрендеренных формул</h2>
            <p> Предварительно отрендеренные формулы нужно хранить, сложно обновлять,
                нужно использовать систему ссылок на их изображения. При этом некоторые
                особо сложные формулы с большим количеством обозначений с индексами
                сложно рассмотреть без масштабирования, например, как цифру "3" в степени
                корня из величины "<i>c</i>" в формуле
            </p>
            <div class="center_align">
            <img src="https://meganorm.ru/Data2/1/4293745/4293745484.files/x204.png">
            </div>
            <p>
                При масштабировании получаем
            </p>
            <div class="center_align">
            <img src="https://meganorm.ru/Data2/1/4293745/4293745484.files/x204.png" width="500">
            </div>
            <p>
                Здесь хорошо видно, что цифра "3" практически идентична цифре "8" и только нейросети
                знают, как наш мозг может их различить.
            </p>

            <h2>Ультимативное решение</h2>
            <p>
                После непродолжительного гугления (яндексом я не пользуюсь) и перехода по первой
                ссылке в выдаче поисковика я нашел <a href="https://devhops.ru/latex/html/">решение</a>
                по использованию наиболее популярной разметки для формул LaTeX в HTML-документах.
            </p>
            <p>
                Нужно всего лишь добавить в текст документа 2 строки:
            </p>
            <div class="brd">
                <p class="code_sample">&lt;script src=&quot;https://polyfill.io/v3/polyfill.min.js?features=es6&quot;&gt;&lt;/script&gt;</p>
                <p class="code_sample">&lt;script id=&quot;MathJax-script&quot; async
                    src=&quot;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js&quot;&gt;&lt;/script&gt;</p>
            </div>

            <p>
                Далее используем знак "$$" в начале и конце региона формул,
                а для записи формулы используем разметку LaTeX, например "a = {F \over m}". Получится
            </p>
            <p>
                $$a = {F \over m}$$
            </p>
            <p>
                Разметка знакома не всем, поэтому удобнее пользоваться конструктором, например,
                <a href="https://latex.codecogs.com/eqneditor/editor.php">здесь</a>.
            </p>
            <h1>Пробуем</h1>
            <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
            <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
            <p>
                Запишем ту же формулу, что указана выше в примере, в разметке LaTeX
            </p>
            <p>
                $$\varphi _{exy} = \varphi _{ey} (0,6 \sqrt[3]{c}+0,4\sqrt[4]{c})$$
            </p>
            <p>
                Это просто какая-то магия! Две строки в разметке делают всю работу за меня!
            </p>
            <p>
                Формула масштабируется вместе со страницей, при этом приложение
                позволяет зуммировать формулы по клику (настраивается в контекстном меню).
            </p>
            <p>
                Решение очень интересное, но в таком виде подходит только при наличии
                доступа к интернету (копия HTML, скачанная на компьютер, без интернета
                формулы отображать не будет).
            </p>
            <p>
                Хорошо, что <a href="https://github.com/mathjax/MathJax-src">исходный код</a> открытый и приложение можно использовать в
                своих проектах.
            </p>
            </div>
            </div>
        </body>
    </head>
</html>